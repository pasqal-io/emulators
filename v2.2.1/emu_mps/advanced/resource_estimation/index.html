
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../convergence/">
      
      
        <link rel="next" href="../../benchmarks/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Estimating Memory Consumption and Runtime - Pasqal analog emulators</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_markdown_exec_pyodide.css">
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../extras/css/mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../extras/css/colors.css">
    
      <link rel="stylesheet" href="../../../extras/css/home.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#estimating-the-memory-consumption-of-a-simulation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Pasqal analog emulators" class="md-header__button md-logo" aria-label="Pasqal analog emulators" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pasqal analog emulators
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Estimating Memory Consumption and Runtime
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/pasqal-io/emulators" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    emulators
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Welcome

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../base_classes/" class="md-tabs__link">
        
  
  
    
  
  Base Classes

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../observables/" class="md-tabs__link">
        
  
  
    
  
  Computing Observables

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../CONTRIBUTING/" class="md-tabs__link">
        
  
  
    
  
  How to Contribute

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../CODE_OF_CONDUCT/" class="md-tabs__link">
        
  
  
    
  
  Code of Conduct

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../emu_sv/" class="md-tabs__link">
          
  
  
    
  
  emu-sv

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
    
  
  emu-mps

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Pasqal analog emulators" class="md-nav__button md-logo" aria-label="Pasqal analog emulators" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Pasqal analog emulators
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pasqal-io/emulators" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    emulators
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../base_classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base Classes
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../observables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computing Observables
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How to Contribute
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code of Conduct
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../emu_sv/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    emu-sv
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            emu-sv
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../emu_sv/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../emu_sv/notebooks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Notebooks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../emu_sv/notebooks/getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emulation of sequences: AFM state sequence
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../emu_sv/benchmarks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Benchmarks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Benchmarks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../emu_sv/benchmarks/accuracy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accuracy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../emu_sv/benchmarks/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    emu-mps
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            emu-mps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../notebooks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Notebooks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_3" id="__nav_7_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Notebooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/getting_started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started with emu-mps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/noise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running noisy simulations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Advanced Topics
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_4" id="__nav_7_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hamiltonian/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QPU Hamiltonian
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPS Representation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tdvp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TDVP Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Errors in TDVP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../noise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Noise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../convergence/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validating Correctness of Results
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Estimating Memory Consumption and Runtime
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Estimating Memory Consumption and Runtime
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#estimating-the-memory-consumption-of-a-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Estimating the memory consumption of a simulation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estimating the memory consumption of a simulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-state" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-baths" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the baths
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-krylov-space" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the Krylov space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-temporary-tensors" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from temporary tensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benchmarking-memory-footprint" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmarking memory footprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#an-example" class="md-nav__link">
    <span class="md-ellipsis">
      An example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-the-runtime-of-a-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Estimating the runtime of a simulation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estimating the runtime of a simulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-baths_1" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the baths
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-effective-hamiltonian" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the effective Hamiltonian
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benchmarking-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmarking runtime
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../benchmarks/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Benchmarks
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_5" id="__nav_7_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Benchmarks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../benchmarks/accuracy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accuracy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../benchmarks/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../benchmarks/noise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Noise
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#estimating-the-memory-consumption-of-a-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Estimating the memory consumption of a simulation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estimating the memory consumption of a simulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-state" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the state
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-baths" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the baths
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-krylov-space" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the Krylov space
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-temporary-tensors" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from temporary tensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benchmarking-memory-footprint" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmarking memory footprint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#an-example" class="md-nav__link">
    <span class="md-ellipsis">
      An example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-the-runtime-of-a-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      Estimating the runtime of a simulation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Estimating the runtime of a simulation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-baths_1" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the baths
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contribution-from-the-effective-hamiltonian" class="md-nav__link">
    <span class="md-ellipsis">
      Contribution from the effective Hamiltonian
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benchmarking-runtime" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmarking runtime
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/pasqal-io/emulators/edit/main/docs/emu_mps/advanced/resource_estimation.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/pasqal-io/emulators/raw/main/docs/emu_mps/advanced/resource_estimation.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>Estimating Memory Consumption and Runtime</h1>

<p>The presence of the <code>max_bond_dim</code> and <code>max_krylov_dim</code> <a href="../config/">config</a> parameters means an upper bound on memory consumption and the complexity of the time evolving algorithm can be estimated. By limiting the <code>max_bond_dim</code> of a simulation to make it fit in the available hardware memory, it can be guaranteed to run for arbitrary times for an arbitrary number of qubits. Of course, the sources of error described on the <a href="../errors/">error page</a> imply that limiting the memory consumption of the program will negatively impact the quality of the results once a certain threshold is exceeded. The page in <a href="../convergence/">this link</a>, for example, outlines a case study to determine whether emulation results are accurate.</p>
<h2 id="estimating-the-memory-consumption-of-a-simulation">Estimating the memory consumption of a simulation</h2>
<p>In this section we outline how to estimate the memory consumption of a simulation, for a given <code>max_bond_dim</code>, a Krylov subspace of size <code>max_krylov_dim</code>, and for <span class="arithmatex">\(N\)</span> being the number of qubits to be simulated.
There are four contributions to the peak memory consumption of emu-mps that will be discussed in the next sections:</p>
<ul>
<li>the state</li>
<li>the baths</li>
<li>the Krylov space</li>
<li>temporary tensors</li>
</ul>
<h3 id="contribution-from-the-state">Contribution from the state</h3>
<p>The quantum state is stored in MPS format (<a href="../mps/">see here</a>). At worst, the bond dimensions of the tensors in an MPS grow exponentially inwards as</p>
<div class="arithmatex">\[
2,4,8,16...,16,8,4,2
\]</div>
<p>in which case an MPS will take <strong>more</strong> memory than a state vector. Let <span class="arithmatex">\(\chi\)</span> denote the value of <code>max_bond_dim</code>.
When <span class="arithmatex">\(\chi&lt;2^{N/2}\)</span>, the bond dimensions in the center all cap at that fixed value of <code>max_bond_dim</code>.  Since each tensor in the MPS has 2 bonds of size at most <span class="arithmatex">\(\chi\)</span>, and a physical index of size <span class="arithmatex">\(p=2\)</span>, where each element in the tensor takes <span class="arithmatex">\(s=16\)</span> bytes (2 8-byte floats to store a complex number), the memory consumption of the state reads</p>
<div class="arithmatex">\[
|\psi| &lt; spN\chi^2 = 32N\chi^2
\]</div>
<p>Note that this is a strict over-estimation because the outer bonds in the MPS will be much smaller than <span class="arithmatex">\(\chi\)</span>.</p>
<h3 id="contribution-from-the-baths">Contribution from the baths</h3>
<p>For TDVP, for each qubit a left and a right bath tensor is stored. The bath tensors are used to compute an effective interaction between the 2-qubit subsystem being evolved, and the rest of the system (<a href="../tdvp/">see here</a>). Each of them has 3 indices. Two of them will have a size that depends on the state that is evolved, here upper bounded by the maximum allowed value <span class="arithmatex">\(\chi\)</span> for the bond dimension. For the third, the size <span class="arithmatex">\(h\)</span> will depend on the interaction type. In concrete, for each qubit, <span class="arithmatex">\(h\)</span> will be the bond dimension of the <a href="../hamiltonian/">MPO representation</a> of the Hamiltonian.
In summary, for the Rydberg Hamiltonian we expect that <span class="arithmatex">\(h=2+\text{floor}(n/2)\)</span>, and for the XY Hamiltonian that <span class="arithmatex">\(h=2+2\text{floor}(n/2)\)</span>, where in both cases <span class="arithmatex">\(n=\text{min}(i,N-i)\)</span> for the bath associated with the qubit <span class="arithmatex">\(i\)</span>. The computation is slightly involved, but summing all the contributions leads to a total memory occupation of the baths:</p>
<div class="arithmatex">\[
|\mathrm{bath}| &lt; Ns\chi^2h = 4\chi^2N(N+10)
\]</div>
<p>Note that the baths take up more memory than the state, always, and potentially much more. Furthermore, just as for the state this is a strict over-estimation, because it assumes all the bonds in the state are of size <span class="arithmatex">\(\chi\)</span>.</p>
<h3 id="contribution-from-the-krylov-space">Contribution from the Krylov space</h3>
<p>The remainder of the memory consumption is to compute the time-evolution of qubit pairs in TDVP. This is done by contracting 2 tensors from the MPS together into a single 2-qubit tensor, and time-evolving it by applying an effective Hamiltonian constructed from the baths and the Hamiltonian MPO. Each 2-qubit tensor has a size bounded by <span class="arithmatex">\(sp^2\chi^2\)</span>, so the memory of the Krylov vectors used in the Lanczos algorithm reads</p>
<div class="arithmatex">\[
|\mathrm{krylov}| \leq ksp^2\chi^2 = 64k\chi^2
\]</div>
<p>where <span class="arithmatex">\(k\)</span> is the value of <code>max_krylov_dim</code>. Recall that the default value of <span class="arithmatex">\(k=100\)</span> and if the Lanczos algorithm requires more Krylov vectors to converge to the tolerance, it will error, rather than exceed the above bound.</p>
<h3 id="contribution-from-temporary-tensors">Contribution from temporary tensors</h3>
<p>Finally, to compute the above Krylov vectors, the effective two-site Hamiltonian has to be applied to the previous Krylov vector to obtain the next one. The resulting tensor network contraction cannot be done in-place, so it has to store two intermediate results that get very large. The intermediate results take the most memory at the center qubit, where the bond dimension of the Hamiltonian becomes <span class="arithmatex">\(h\)</span>, where</p>
<div class="arithmatex">\[
|\mathrm{intermediate}| = 2*shp^2\chi^2 = 128h\chi^2
\]</div>
<p>It should be noted that the value of <span class="arithmatex">\(h\)</span> cited above assumes that all qubits in the system interact via a two-body term, which is technically true for the Rydberg interaction.</p>
<h3 id="benchmarking-memory-footprint">Benchmarking memory footprint</h3>
<p>Putting all of this together, for the total memory consumption <span class="arithmatex">\(m\)</span> of the program, we can write the following bound:</p>
<div class="arithmatex">\[
 m(N,\chi,k) = |\psi| + |\mathrm{bath}| + |\mathrm{krylov}| + |\mathrm{intermediate}| &lt; 32N\chi^2 + 4\chi^2N(N+10) + 64*k*\chi^2 + 64(N+4)\chi^2 = 4\chi^2[N(N+34) + 16k + 64]
\]</div>
<p>Note that this estimate is <strong>pessimistic</strong>, since not all <span class="arithmatex">\(k\)</span> Krylov vectors are likely to be needed, and not all tensors in <span class="arithmatex">\(\psi\)</span> and the baths have the maximum bond dimension <span class="arithmatex">\(d\)</span>. On the other hand, the estimate for <span class="arithmatex">\(|intermediate|\)</span> is likely to be accurate, since the bond dimension of <span class="arithmatex">\(\chi\)</span> is probably attained at the center qubit.</p>
<p>To test the accuracy of the above memory estimations, we run the TDVP time evolution algorithm, fixing the bond dimension to a particular desired value.
For different combinations of the number of atoms in a register <span class="arithmatex">\(N\)</span> and the fixed bond dimension <span class="arithmatex">\(chi\)</span>, we collect the maximum resident size, or RSS, which is expected to capture the maximum memory needed to run the emulation. We plot the RSS in the following picture (left), as a function of the number of qubits and for different bond dimensions. Notice that, once the RSS is normalized by <span class="arithmatex">\(\chi^2\)</span>, as suggested by our estimate above, all the points fall into the same functional dependency on the number of atoms. Moreover, as we plot the normalized function <span class="arithmatex">\(m(N,\chi,k)/\chi^2\)</span>, for a reasonable estimate of the size of the Krylov subspace (<span class="arithmatex">\(k=30\)</span>), it is clear that our upper bound on memory occupation can be reasonably trusted on a wide range of qubit number and bond dimensions.</p>
<p><img src="../../benchmarks/benchmark_plots/RSS_vs_N.png"  width="49.7%">
<img src="../../benchmarks/benchmark_plots/emumps_maxRSS_map.png"  width="49.7%"></p>
<p>Finally, having established an estimate for the memory consumption, it makes sense to explore what are the available regimes of qubits/bond dimension can be reached for a given hardware capability.
Since all heavy simulations will be run on an NVIDIA A100 (on Pasqal's DGX cluster), we have 40 GB of available memory.
Therefore, above, we show (right image) the contour lines of the RSS estimate <span class="arithmatex">\(m(N,\chi,k=30) &lt; 40\)</span> GB for particular useful values of the total memory, allowing to quickly estimate the memory footprint of an emu-mps emulation.</p>
<h3 id="an-example">An example</h3>
<p>For example, the results from the <a href="../convergence/">case study</a> were obtained using <span class="arithmatex">\(N=49\)</span> and <span class="arithmatex">\(d=1600\)</span> on 2 GPUs. Taking the above formula, and halving the contributions from <span class="arithmatex">\(\psi\)</span> and <span class="arithmatex">\(|\mathrm{bath}|\)</span> since they are split evenly on the GPUs, we reproduce the memory consumption of the program for <span class="arithmatex">\(k=13\)</span>. Notice that the actual number of Krylov vectors required to reach convergence is likely closer to around <span class="arithmatex">\(30\)</span>, but here we underestimate it, since the contributions of <span class="arithmatex">\(\psi\)</span> and <span class="arithmatex">\(|\mathrm{bath}|\)</span> are over-estimated.</p>
<h2 id="estimating-the-runtime-of-a-simulation">Estimating the runtime of a simulation</h2>
<p>Similarly to the previous section, here, we briefly estimate the complexity of the two-site TDVP algorithm we use to time evolve the state in a single pulse sequence step.
As before, the two relevant computational steps are</p>
<ul>
<li>Computing the baths</li>
<li>Applying the effective Hamiltonian</li>
</ul>
<p>In both cases, it will boil down to an exercise in complexity estimation of tensor network contractions. For simplicity, as before, we will restrict to the worst case scenario in which the bond dimension <span class="arithmatex">\(\chi\)</span> always take the maximum allowed value.
Importantly, another significant contribution to the runtime can come from computing complex observables like two-point correlation functions, which is not included here.</p>
<h3 id="contribution-from-the-baths_1">Contribution from the baths</h3>
<p>Roughly, baths computation involves the represented tensor network contraction:</p>
<p><img src="../../benchmarks/figures/tdvp_complexity_bath.png"></p>
<p>Each of these tensor multiplication takes respectively <span class="arithmatex">\(O(ph\chi^3)\)</span>, <span class="arithmatex">\(O(p^2h^2\chi^2)\)</span>, and <span class="arithmatex">\(O(ph\chi^3)\)</span>. In an all-to-all Rydberg interaction, we already argued that the bond dimension of the Hamiltonian MPO should scale as the number of atoms. Moreover, the left and right baths need to be computed roughly N times, thus the overall expected complexity is <span class="arithmatex">\(O(N^2\chi^3) + O(N^3\chi^2)\)</span>.</p>
<h3 id="contribution-from-the-effective-hamiltonian">Contribution from the effective Hamiltonian</h3>
<p>Applying the effective two-body Hamiltonian is slightly a more involved tensor network contraction:</p>
<p><img src="../../benchmarks/figures/tdvp_complexity_apply_eff_ham.png"></p>
<p>In steps, it is composed by applying:</p>
<ul>
<li>the left bath: <span class="arithmatex">\(O(p^2h\chi^3)\)</span></li>
<li>a two-body term coming form the MPO Hamiltonian: <span class="arithmatex">\(O(p^4h^2\chi^2)\)</span></li>
<li>the right bath: <span class="arithmatex">\(O(p^2h\chi^3)\)</span></li>
</ul>
<p>As before, for an all-to-all Rydberg interaction we expect <span class="arithmatex">\(h\sim N\)</span>. Moreover, the effective Hamiltonian application needs to be done <span class="arithmatex">\(k\)</span> times, to build the appropriate Krylov subspace, and for every pair.
Finally, to complete the time evolution and bring back the tensors of the state into an MPS form, a final singular value decomposition is required.
For every pair, this requires <span class="arithmatex">\(O(N\chi^3)\)</span> to be done.
Overall, the expected complexity is thus <span class="arithmatex">\(O(kN^2\chi^3) + O(kN^3\chi^2) + O(N\chi^3)\)</span>.</p>
<h3 id="benchmarking-runtime">Benchmarking runtime</h3>
<p>From the previous complexity estimations, we thus expect the complexity of the two-sites TDVP algorithm to have two main contributions</p>
<div class="arithmatex">\[\Delta t_{\text{TDVP}}(N,\chi,k)\sim \alpha N^2\chi^3 + \beta N^3\chi^2\]</div>
<p>To check such estimation, as before, we run TDVP multiple times, measuring the average runtime to perform a step.
Below, we show the obtained results for different number of atoms in a register <span class="arithmatex">\(N\)</span> at fixed bond dimension <span class="arithmatex">\(\chi\)</span> (left), and at different fixed <span class="arithmatex">\(N\)</span> but increasing the bond dimension (left). On top of these data points, we also plot the resulting fit of the complexity estimation presented in the equation above. Remarkably, with just two parameters <span class="arithmatex">\(\alpha\)</span> and <span class="arithmatex">\(\beta\)</span> with get good agreement.</p>
<p><img src="../../benchmarks/benchmark_plots/runtime_vs_N.png"  width="49.7%">
<img src="../../benchmarks/benchmark_plots/runtime_vs_bond_dim.png"  width="49.7%"></p>
<p>To wrap up, and to provide an useful tool for runtime estimation for emu-mps, the time to perform a <strong>single</strong>  time step in a sequence can be conveniently visualized (below) for both <span class="arithmatex">\(N\)</span> and <span class="arithmatex">\(\chi\)</span> on contour lines.</p>
<p><img src="../../benchmarks/benchmark_plots/emumps_runtime_map.png"  width="49.7%"></p>
<p>Superimposing the 40 GB hardware constrain derived in the previous section, it is easy to see that in worst-case scenario, a TDVP step will take roughly 250 seconds to be computed.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.action.view", "content.action.edit", "navigation.tabs", "navigation.indexes", "navigation.sections", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../../assets/_markdown_exec_pyodide.js"></script>
      
        <script src="../../../extras/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>